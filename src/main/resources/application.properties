# ===============================================
# == SERVER PORT ==
# ===============================================
server.port=8080

# ===============================================
# == H2 DATABASE CONNECTION (IN-MEMORY) ==
# ===============================================
# Data resets when the application restarts
spring.datasource.url=jdbc:h2:mem:mk_siopao_db;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=password

# H2 Console (Optional, accessible at /h2-console)
spring.h2.console.enabled=true

# ===============================================
# == DEFAULT ADMIN CREDENTIALS ==
# ===============================================
mk.admin.username=mktoastedadmin
mk.admin.password=mktoasted123

# ===============================================
# == SPRING DATA JPA (Hibernate) ==
# ===============================================
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
# Fix for H2 compatibility if needed
spring.jpa.properties.hibernate.format_sql=true

# ===============================================
# == FILE UPLOAD SETTINGS ==
# ===============================================
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=200MB
spring.servlet.multipart.resolve-lazily=true

# ===============================================
# == CLOUDINARY SETTINGS ==
# ===============================================
cloudinary.cloud-name=${CLOUDINARY_CLOUD_NAME}
cloudinary.api-key=${CLOUDINARY_API_KEY}
cloudinary.api-secret=${CLOUDINARY_API_SECRET}

# ===============================================
# == SPRING MAIL (GMAIL) SETTINGS ==
# ===============================================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=${GMAIL_USERNAME}
spring.mail.password=${GMAIL_APP_PASSWORD}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# --- ADDED: TIMEOUTS to prevent hanging on connection issues ---
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000

# ===============================================
# == GOOGLE OAUTH2 LOGIN ==
# ===============================================
spring.security.oauth2.client.registration.google.client-id=${GOOGLE_CLIENT_ID}
spring.security.oauth2.client.registration.google.client-secret=${GOOGLE_CLIENT_SECRET}
spring.security.oauth2.client.registration.google.scope=email,profile
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.google.client-name=Google